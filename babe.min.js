!function(h){var u=document,g=function(D){return document.getElementById(D);},f=Object.prototype,l=Array.prototype,v=["INPUT","SELECT","TEXTAREA"],k="bb-scope",t="bb-with",r="bb-path",a="bb-bind",i="__id",A={},B={},x={},o={};
function d(){}function y(D){return JSON.parse(JSON.stringify(D));}function b(){console.log.apply(console,l.slice.call(arguments));}function n(F){var D=c(F),E=m(D);
return E[0];}function m(D){return D.split("/");}function c(H){var F="";if(r in H){F=H[r];}else{var G=null,D=[],E=H;while((E=E.parentNode)&&!G){if(E.hasAttribute(t)){D.push(E.getAttribute(t));
}G=E.getAttribute(k);}D.unshift(G);F=D.join("/");H[r]=F;}return F;}function z(G){var H=m(G),F=A[H[0]];if(F){for(var E=1,D=H.length;E<D;E++){F=F[H[E]];}}return F;
}function C(G,I){var H=G.split("|"),E={};for(var F=0,D=H.length;F<D;F++){var J=H[F].split(":");if(I){E[J[1]]=J[0];}else{E[J[0]]=J[1];}}return E;}function e(I,H){var J=m(I),K=J[0],D=J[1],E=g(K),G="["+a+'*=":'+D+'"]',F=E.querySelectorAll(G);
if(F.length>0){l.forEach.call(F,function(N){var L=C(N.getAttribute(a),true);if(D in L){var O=L[D],M=o[O];if(typeof M.datachange=="function"){M.datachange(N,H);
}else{b(O+">>>>%c控制器注册方法错误，没有遵循{updatedata：fn,datachange:fn}格式","color:red");}}});}}function s(I,F,E){if(F=="datachange"){e(I,E);}else{if(F=="domchange"){var J=m(I),D=J.length,H;
if(D>1){H=B[J[0]];for(var G=1;G<D-1;G++){H=H[J[G]];}H[J[D-1]]=E;}}}}function j(H,G,D){var F=A[H],E=B[H];if(!(H in x)){x[H]={};}if(E.hasOwnProperty(D)&&!(D in x[H])){Object.defineProperty(E,D,{enumerable:true,get:function(){return F[D];
},set:function(I){var J=F[D];if(J!=I){F[D]=I;s(G+"/"+D,"datachange",I);}}});x[H][D]=1;}}function q(G){var I=G.target;if(v.indexOf(I.nodeName)<0){return;
}if(I.hasAttribute(a)){var D=C(I.getAttribute(a));for(var J in D){var F=o[J];if(typeof F.uichange=="function"){var H=F.uichange(I),E=c(I);if(H){s(E+"/"+D[J],"domchange",H);
}}else{b(J+">>>>%c控制器注册方法错误，没有遵循{uichange：fn,datachange:fn}格式","color:red");}}}}function w(){["change","keyup"].forEach(function(D){document.addEventListener(D,q,false);
});}function p(H){var D=g(H),G="["+a+"]",F=A[H],E=D.querySelectorAll(G);if(E.length>0){l.forEach.call(E,function(N){var J=C(N.getAttribute(a)),M=c(N);for(var O in J){var I=J[O],K=z(M+"/"+I),L=o[O];
j(H,M,I);if(typeof L.datachange=="function"){L.datachange(N,K);}else{b(O+">>>>%c控制器注册方法错误，没有遵循{updatedata：fn,datachange:fn}格式","color:red");}}});}}["text","value","html"].forEach(function(D){o[D]={control:D,datachange:function(F,E){switch(this.control){case"text":case"html":F.innerHTML=E;
break;case"value":F.value=E;break;}},uichange:function(F){var G=n(F),E=null;switch(this.control){case"text":case"html":E=F.innerHTML;break;case"value":E=F.value;
break;}return E;}};});w();h.babe={bind:function(F,D){var E=g(F);E.setAttribute(k,F);A[F]=y(D);D[i]=F;B[F]=D;p(F);},addController:function(E,D){o[E]=D;},getScope:n,getPathByDom:c,};
}(this);