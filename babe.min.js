!function(g){var u=document,f=function(G){return document.getElementById(G);},e=Object.prototype,k=Array.prototype,v=["INPUT","SELECT","TEXTAREA"],c=false,j="bb-scope",t="bb-with",r="bb-path",s=".",a="bb-bind",h="__id",C={},E={},y={},w={},q={},n={};
function A(I){if(typeof I!="object"||I==null){return I;}var G={};for(var H in I){G[H]=A(I[H]);}return G;}function m(G){return G.getAttribute[j];}function l(G){return G?G.split(s):[];
}function b(K){var I="";if(K.hasAttribute(r)){I=K.getAttribute(r);}else{var J=K.getAttribute(j),G=[],H=K;while((H=H.parentNode)&&H.id!=J){if(H.hasAttribute(t)){G.push(H.getAttribute(t));
}}G.unshift(J);I=G.join(s);K.setAttribute(r,I);}return I;}function B(K,G){var L=l(K),M=L[0],J=G?E[M]:C[M];if(J){for(var I=1,H=L.length;I<H;I++){J=J[L[I]];
}}return J;}function F(J,L){var K=J.split("|"),H={};for(var I=0,G=K.length;I<G;I++){var M=K[I].split(":");if(L){H[M[1]]=M[0];}else{H[M[0]]=M[1];}}return H;
}function d(O,L,K){var N=l(O),H=N[0],M=f(H),J=E[H],I="["+a+'*=":'+L+'"]['+r+'="'+O+'"]',G=M.querySelectorAll(I);if(G.length>0){k.forEach.call(G,function(R){var P=F(R.getAttribute(a),true);
if(L in P){var S=P[L],Q=n[S];if(typeof Q.datachange=="function"){Q.datachange.call(J,R,L,K);}else{console.log(S+">>>>%c控制器注册方法错误，没有遵循{updatedata：fn,datachange:fn}格式","color:red");
}}});}}function D(M,K,I,H){if(typeof H=="undefined"){H=B(M+s+K,true);}if(I=="datachange"){d(M,K,H);}else{if(I=="domchange"){var N=l(M),G=N.length,L;if(G>0){L=E[N[0]];
for(var J=1;J<G;J++){L=L[N[J]];}L[K]=H;}}}}function z(J,I,H){var G=I?s+I:"";if(H){G+=s+H;}return J+G;}function i(G,Q,P){var H=Q+s+P,N=B(Q),J=B(Q,true),I=N[P],K=I&&(k.toString.call(I)=="[object Object]"),O,L;
if(!(G in y)){y[G]={};}if(N.hasOwnProperty(P)&&!(H in y[G])){if(K&&("get" in I)){O=function(){var V,W,U={};if(!(P in q)){var S=I.get();q[H]=S.replace(/\{\{this/g,"{{"+G);
V=q[H].match(/[.\w]+(?=\}\})/g);for(var T=0,R=V.length;T<R;T++){var X=V[T];if(!(X in w)){w[X]=[];}if(w[X].indexOf(H)<0){w[X].push(H);}}}else{V=w[H]||[];
}for(var T=0,R=V.length;T<R;T++){var X=V[T];lval=B(X);U[X]=lval;}W=q[H].replace(/\{\{([^\}\{]+)\}\}/g,function(Y,Z){return U[Z];});return N[P]=W;};}else{O=function(){return N[P];
};}var M=K&&("set" in I)?I.set:null;L=function(T){var W=N[P];if(W!=T){N[P]=T;M&&M(T);D(Q,P,"datachange",T);if(H in w){var V=w[H];for(var U=0,R=V.length;
U<R;U++){var S=l(V[U]);lkey=S.pop(),lpath=S.join(s);D(lpath,lkey,"datachange");}}}};Object.defineProperty(J,P,{enumerable:true,get:O,set:L});y[G][H]=1;
}}function p(J){var L=this;if(v.indexOf(L.nodeName)<0){return;}if(L.hasAttribute(a)){var G=F(L.getAttribute(a));for(var M in G){var I=n[M];if(typeof I.uichange=="function"){var K=I.uichange(L),H=b(L);
if(K){D(H,G[M],"domchange",K);}}else{console.log(M+">>>>%c控制器注册方法错误，没有遵循{uichange：fn,datachange:fn}格式","color:red");}}}}function x(G){if(c){G.addEventListener("keyup",p,false);
}G.addEventListener("change",p,false);}function o(K){var G=f(K),J="["+a+"]",I=C[K],H=G.querySelectorAll(J);if(H.length>0){k.forEach.call(H,function(P){var O,T,M;
P.setAttribute(j,K);T=b(P);O=F(P.getAttribute(a));M=E[K];if(v.indexOf(P.nodeName)>=0){x(P);}for(var Q in O){var S=O[Q],R,N=n[Q];if(N){var L=N.resolve?N.resolve(S):"";
L=L?L:S;i(K,T,L);R=B(T+s+L,true);if(typeof N.datachange=="function"){N.datachange.call(M,P,S,R);}else{console.log(Q+">>>>%c控制器注册方法错误，没有遵循{updatedata：fn,datachange:fn}格式","color:red");
}}}});}}g.babe={listenintime:function(G){c=G;},bind:function(I,G){var H=f(I);C[I]=A(G);G[h]=I;E[I]=G;o(I);},addController:function(H,G){n[H]=G;},getScope:m,getPathByDom:b,getDataByPath:B};
}(this);