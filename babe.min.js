!function(h){var u=document,g=function(G){return document.getElementById(G);},f=Object.prototype,l=Array.prototype,v=["INPUT","SELECT","TEXTAREA"],k="bb-scope",t="bb-with",r="bb-path",a="bb-bind",i="__id",C={},E={},y={},z={},w={},s={},o={};
function d(){}function A(G){return JSON.parse(JSON.stringify(G));}function b(){console.log.apply(console,l.slice.call(arguments));}function n(I){var G=c(I),H=m(G);
return H[0];}function m(G){return G.split("/");}function c(K){var I="";if(r in K){I=K[r];}else{var J=null,G=[],H=K;while((H=H.parentNode)&&!J){if(H.hasAttribute(t)){G.push(H.getAttribute(t));
}J=H.getAttribute(k);}G.unshift(J);I=G.join("/");K[r]=I;}return I;}function B(J){var K=m(J),I=E[K[0]];if(I){for(var H=1,G=K.length;H<G;H++){I=I[K[H]];}}return I;
}function F(J,L){var K=J.split("|"),H={};for(var I=0,G=K.length;I<G;I++){var M=K[I].split(":");if(L){H[M[1]]=M[0];}else{H[M[0]]=M[1];}}return H;}function e(O,K){var N=m(O),H=N[0],L=N[1],M=g(H),J=E[H],I="["+a+'*=":'+L+'"]',G=M.querySelectorAll(I);
if(G.length>0){l.forEach.call(G,function(R){var P=F(R.getAttribute(a),true);if(L in P){var S=P[L],Q=o[S];if(typeof Q.datachange=="function"){Q.datachange.call(J,R,L,K);
}else{b(S+">>>>%c控制器注册方法错误，没有遵循{updatedata：fn,datachange:fn}格式","color:red");}}});}}function D(L,I,H){if(typeof H=="undefined"){H=B(L);}if(I=="datachange"){e(L,H);
}else{if(I=="domchange"){var M=m(L),G=M.length,K;if(G>1){K=E[M[0]];for(var J=1;J<G-1;J++){K=K[M[J]];}K[M[G-1]]=H;}}}}function j(G,P,O){var M=C[G],I=E[G],H=I[O],J=H&&(l.toString.call(H)=="[object Object]"),N,K;
if(!(G in y)){y[G]={};}if(I.hasOwnProperty(O)&&!(O in y[G])){if(J&&("get" in H)){N=function(){var R,U,T=[];if(!(O in s)){R=H.get();U=R.match(/\w+(?=\}\})/g);
for(var S=0,Q=U.length;S<Q;S++){var V=U[S];if(!(V in z)){z[V]=[];}z[V].push(O);}w[O]=U;R=R.replace(/[\r\t\n]/g," ").replace(/'/g,"'").replace(/"/g,'"').replace(/\{\{/g,"'+(").replace(/\}\}/g,")+'");
s[O]=new Function(U,"return '"+R+"';");}else{U=w[O]||[];}for(var S=0,Q=U.length;S<Q;S++){T.push(M[U[S]]);}return M[O]=s[O].apply(null,T);};}else{N=function(){return M[O];
};}var L=J&&("set" in H)?H.set:null;K=function(R){var U=M[O];if(U!=R){M[O]=R;L&&L(R);D(P+"/"+O,"datachange",R);if(O in z){var T=z[O];for(var S=0,Q=T.length;
S<Q;S++){D(G+"/"+T[S],"datachange");}}}};Object.defineProperty(I,O,{enumerable:true,get:N,set:K});y[G][O]=1;}}function q(J){var L=J.target;if(v.indexOf(L.nodeName)<0){return;
}if(L.hasAttribute(a)){var G=F(L.getAttribute(a));for(var M in G){var I=o[M];if(typeof I.uichange=="function"){var K=I.uichange(L),H=c(L);if(K){D(H+"/"+G[M],"domchange",K);
}}else{b(M+">>>>%c控制器注册方法错误，没有遵循{uichange：fn,datachange:fn}格式","color:red");}}}}function x(){["change","keyup"].forEach(function(G){document.addEventListener(G,q,false);
});}function p(K){var G=g(K),J="["+a+"]",I=C[K],H=G.querySelectorAll(J);if(H.length>0){l.forEach.call(H,function(R){var N=F(R.getAttribute(a)),Q=c(R),M=E[K];
for(var S in N){var L=N[S],O,P=o[S];j(K,Q,L);O=B(Q+"/"+L);if(typeof P.datachange=="function"){P.datachange.call(M,R,L,O);}else{b(S+">>>>%c控制器注册方法错误，没有遵循{updatedata：fn,datachange:fn}格式","color:red");
}}});}}x();h.babe={bind:function(I,G){var H=g(I);H.setAttribute(k,I);C[I]=A(G);G[i]=I;E[I]=G;p(I);},addController:function(H,G){o[H]=G;},getScope:n,getPathByDom:c,};
}(this);